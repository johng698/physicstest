<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Physics Unit 4 Practice MC</title>
    <style>
        /* Global Styles */
        body {
            font-family: Arial, sans-serif;
            margin: 0;
            background-color: #2ecc71; /* Green background */
            color: #333;
        }
        h1, h2 {
            text-align: center;
            color: white;
            margin-top: 50px;
        }
        .center {
            text-align: center;
        }
        .difficulty-btn {
            background-color: #3498db;
            color: white;
            padding: 15px 30px;
            margin: 20px;
            border: none;
            border-radius: 8px;
            font-size: 1.2em;
            cursor: pointer;
            transition: background-color 0.3s;
        }
        .difficulty-btn:hover {
            background-color: #2980b9;
        }
        .container {
            display: none;
            flex-direction: column;
            align-items: center;
            padding-bottom: 50px;
            padding: 20px;
        }
        .question-card {
            width: 90%;
            max-width: 600px;
            background-color: white;
            border-radius: 15px;
            padding: 20px;
            margin-bottom: 20px;
            box-shadow: 0 8px 16px rgba(0,0,0,0.2);
        }
        .question-text {
            font-size: 1.2em;
            margin-bottom: 15px;
        }
        .options {
            display: flex;
            flex-direction: column;
        }
        .options button {
            background-color: #f1f1f1;
            border: none;
            border-radius: 8px;
            padding: 12px 20px;
            margin: 5px 0;
            font-size: 1em;
            cursor: pointer;
            text-align: left;
            transition: background-color 0.3s, transform 0.2s;
        }
        .options button:hover {
            background-color: #ddd;
            transform: translateX(5px);
        }
        .options button.selected {
            background-color: #dcdde1;
        }
        .options button.correct {
            background-color: #d4edda;
            border-left: 5px solid #28a745;
            color: #155724;
        }
        .options button.wrong {
            background-color: #f8d7da;
            border-left: 5px solid #dc3545;
            color: #721c24;
        }
        .submit-btn {
            background-color: #e67e22;
            color: white;
            border: none;
            border-radius: 8px;
            padding: 10px 20px;
            margin-top: 10px;
            font-size: 1em;
            cursor: pointer;
            transition: background-color 0.3s;
        }
        .submit-btn:hover {
            background-color: #d35400;
        }
        .explanation {
            display: none;
            margin-top: 10px;
            padding: 10px;
            border-radius: 8px;
            background-color: #e2e3e5;
            font-weight: bold;
            animation: fadeIn 0.5s forwards;
        }
        @keyframes fadeIn {
            from { opacity: 0; }
            to { opacity: 1; }
        }
        /* Score Circle */
        .score-container {
            display: none;
            text-align: center;
            margin-top: 30px;
            padding: 20px;
        }
        .score-circle {
            position: relative;
            width: 150px;
            height: 150px;
            border-radius: 50%;
            background-color: #ecf0f1;
            margin: 0 auto;
            border: 5px solid #3498db;
            overflow: hidden;
        }
        .score-circle::before {
            content: "";
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            border-radius: 50%;
            background: conic-gradient(#3498db calc(var(--percentage) * 1%), #ecf0f1 calc(var(--percentage) * 1%) 100%);
            transition: background 1s ease-in-out;
        }
        .score-circle .inside-circle {
            position: absolute;
            width: 120px;
            height: 120px;
            background: white;
            border-radius: 50%;
            top: 15px;
            left: 15px;
            line-height: 120px;
            text-align: center;
            font-size: 2em;
            font-weight: bold;
            color: #3498db;
        }
        /* What You Need to Work On */
        .work-on {
            display: none;
            margin-top: 30px;
            text-align: center;
        }
        .work-on h2 {
            color: #fff;
        }
        .work-on div {
            background-color: #ecf0f1;
            padding: 15px;
            border-radius: 10px;
            margin: 10px auto;
            max-width: 600px;
            text-align: left;
        }
        .back-btn, .retake-btn {
            background-color: #e74c3c;
            color: white;
            border: none;
            border-radius: 8px;
            padding: 15px 25px;
            margin: 30px;
            font-size: 1em;
            cursor: pointer;
            transition: background-color 0.3s;
        }
        .back-btn:hover, .retake-btn:hover {
            background-color: #c0392b;
        }
        /* Retake Button Specific */
        .retake-btn {
            background-color: #27ae60;
        }
        .retake-btn:hover {
            background-color: #1e8449;
        }
        /* Responsive Design */
        @media (max-width: 600px) {
            .question-text {
                font-size: 1em;
            }
            .options button {
                font-size: 0.9em;
                padding: 10px 16px;
            }
            .submit-btn, .back-btn, .retake-btn {
                padding: 12px 20px;
                font-size: 0.9em;
            }
            .score-circle {
                width: 120px;
                height: 120px;
            }
            .score-circle .inside-circle {
                width: 90px;
                height: 90px;
                line-height: 90px;
                font-size: 1.5em;
            }
        }
    </style>
</head>
<body>

    <!-- Landing Page -->
    <div id="landing-page">
        <h1>Physics Unit 4 Practice MC</h1>
        <h2>Choose your difficulty</h2>
        <div class="center">
            <button class="difficulty-btn" onclick="startQuiz('easy')">Easy</button>
            <button class="difficulty-btn" onclick="startQuiz('medium')">Medium</button>
            <button class="difficulty-btn" onclick="startQuiz('hard')">Hard</button>
        </div>
    </div>

    <!-- Quiz Container -->
    <div class="container" id="quiz-container">
        <!-- Questions will be injected here -->
    </div>

    <!-- Score and What You Need to Work On -->
    <div class="score-container" id="score-container">
        <div class="score-circle" id="score-circle" style="--percentage: 0;">
            <div class="inside-circle" id="score-percentage">0%</div>
        </div>
        <div class="work-on" id="work-on">
            <h2>What You Need to Work On</h2>
            <div id="topics-to-work-on"></div>
        </div>
        <button class="back-btn" onclick="goBack()">Back</button>
    </div>

    <script>
        // Questions Database
        const allQuestions = {
            easy: [
                // Easy questions (20 total)
                {
                    id: 1,
                    question: "A 5 kg object is pushed with a force of 25 N. What is its acceleration?",
                    options: [
                        { text: "5 m/s²", isCorrect: true, explanation: "Correct! Acceleration = Force / Mass = 25 / 5 = 5 m/s²." },
                        { text: "2 m/s²", isCorrect: false, explanation: "Incorrect. Acceleration is higher." },
                        { text: "0.5 m/s²", isCorrect: false, explanation: "Incorrect. Acceleration is higher." },
                        { text: "25 m/s²", isCorrect: false, explanation: "Incorrect. Acceleration is lower." }
                    ],
                    topic: "Newton's Second Law"
                },
                {
                    id: 2,
                    question: "What is the unit of force in the International System of Units (SI)?",
                    options: [
                        { text: "Joule", isCorrect: false, explanation: "Incorrect. Joule is the unit of energy." },
                        { text: "Newton", isCorrect: true, explanation: "Correct! Newton (N) is the SI unit of force." },
                        { text: "Pascal", isCorrect: false, explanation: "Incorrect. Pascal is the unit of pressure." },
                        { text: "Watt", isCorrect: false, explanation: "Incorrect. Watt is the unit of power." }
                    ],
                    topic: "Units of Force"
                },
                {
                    id: 3,
                    question: "If an object is at rest, what is its velocity?",
                    options: [
                        { text: "10 m/s", isCorrect: false, explanation: "Incorrect. The object is not moving." },
                        { text: "5 m/s", isCorrect: false, explanation: "Incorrect. The object is not moving." },
                        { text: "0 m/s", isCorrect: true, explanation: "Correct! If an object is at rest, its velocity is 0 m/s." },
                        { text: "Undefined", isCorrect: false, explanation: "Incorrect. Velocity is defined as 0 m/s." }
                    ],
                    topic: "Velocity"
                },
                {
                    id: 4,
                    question: "What does Newton's First Law state?",
                    options: [
                        { text: "Force equals mass times acceleration.", isCorrect: false, explanation: "Incorrect. That's Newton's Second Law." },
                        { text: "For every action, there is an equal and opposite reaction.", isCorrect: false, explanation: "Incorrect. That's Newton's Third Law." },
                        { text: "An object in motion stays in motion unless acted upon by a force.", isCorrect: true, explanation: "Correct! This is Newton's First Law of Motion." },
                        { text: "Energy cannot be created or destroyed.", isCorrect: false, explanation: "Incorrect. That's the Law of Conservation of Energy." }
                    ],
                    topic: "Newton's First Law"
                },
                {
                    id: 5,
                    question: "What is the relationship between mass and weight?",
                    options: [
                        { text: "Mass and weight are the same.", isCorrect: false, explanation: "Incorrect. Mass is a measure of matter, weight is force." },
                        { text: "Mass is weight divided by gravity.", isCorrect: true, explanation: "Correct! Weight = Mass × Gravity." },
                        { text: "Mass is always greater than weight.", isCorrect: false, explanation: "Incorrect. Mass and weight are different quantities." },
                        { text: "Weight is always greater than mass.", isCorrect: false, explanation: "Incorrect. Weight depends on gravity." }
                    ],
                    topic: "Mass and Weight"
                },
                {
                    id: 6,
                    question: "A ball is thrown straight up with an initial velocity. At its highest point, its velocity is:",
                    options: [
                        { text: "Positive", isCorrect: false, explanation: "Incorrect. It momentarily stops before descending." },
                        { text: "Negative", isCorrect: false, explanation: "Incorrect. Velocity is zero at the highest point." },
                        { text: "Zero", isCorrect: true, explanation: "Correct! At the highest point, velocity is momentarily zero." },
                        { text: "Undefined", isCorrect: false, explanation: "Incorrect. Velocity is zero." }
                    ],
                    topic: "Motion"
                },
                {
                    id: 7,
                    question: "Which of the following is an example of balanced forces?",
                    options: [
                        { text: "A book resting on a table.", isCorrect: true, explanation: "Correct! The gravitational force is balanced by the normal force." },
                        { text: "A car accelerating.", isCorrect: false, explanation: "Incorrect. Net force causes acceleration." },
                        { text: "A person pushing a wall.", isCorrect: false, explanation: "Incorrect. The wall exerts an equal and opposite force." },
                        { text: "An airplane taking off.", isCorrect: false, explanation: "Incorrect. Lift force exceeds gravity." }
                    ],
                    topic: "Balanced Forces"
                },
                {
                    id: 8,
                    question: "What is inertia?",
                    options: [
                        { text: "The tendency of an object to resist changes in its state of motion.", isCorrect: true, explanation: "Correct! Inertia is an object's resistance to changes in motion." },
                        { text: "The force that causes objects to move in circles.", isCorrect: false, explanation: "Incorrect. That's centripetal force." },
                        { text: "The energy stored in an object.", isCorrect: false, explanation: "Incorrect. That's potential energy." },
                        { text: "The rate of change of velocity.", isCorrect: false, explanation: "Incorrect. That's acceleration." }
                    ],
                    topic: "Inertia"
                },
                {
                    id: 9,
                    question: "If two objects have the same mass, which one has more weight?",
                    options: [
                        { text: "Both have the same weight.", isCorrect: true, explanation: "Correct! Weight depends on mass and gravity, which are the same." },
                        { text: "The heavier one.", isCorrect: false, explanation: "Incorrect. Mass is the same." },
                        { text: "The lighter one.", isCorrect: false, explanation: "Incorrect. Mass is the same." },
                        { text: "Cannot be determined.", isCorrect: false, explanation: "Incorrect. Mass is the same." }
                    ],
                    topic: "Mass and Weight"
                },
                {
                    id: 10,
                    question: "What happens to an object's inertia if its mass increases?",
                    options: [
                        { text: "Inertia decreases.", isCorrect: false, explanation: "Incorrect. Inertia increases with mass." },
                        { text: "Inertia increases.", isCorrect: true, explanation: "Correct! More mass means more inertia." },
                        { text: "Inertia remains the same.", isCorrect: false, explanation: "Incorrect. Inertia depends on mass." },
                        { text: "Cannot be determined.", isCorrect: false, explanation: "Incorrect. It increases with mass." }
                    ],
                    topic: "Inertia"
                },
                {
                    id: 11,
                    question: "Which statement is true about acceleration?",
                    options: [
                        { text: "Acceleration is the same as velocity.", isCorrect: false, explanation: "Incorrect. Acceleration is the rate of change of velocity." },
                        { text: "Acceleration can be positive or negative.", isCorrect: true, explanation: "Correct! Acceleration can increase or decrease velocity." },
                        { text: "Acceleration only occurs when an object speeds up.", isCorrect: false, explanation: "Incorrect. It can also slow down." },
                        { text: "Acceleration is measured in meters (m).", isCorrect: false, explanation: "Incorrect. It's measured in meters per second squared (m/s²)." }
                    ],
                    topic: "Acceleration"
                },
                {
                    id: 12,
                    question: "A stationary object has:",
                    options: [
                        { text: "Zero velocity and zero acceleration.", isCorrect: true, explanation: "Correct! It's at rest with no motion." },
                        { text: "Zero velocity but non-zero acceleration.", isCorrect: false, explanation: "Incorrect. If stationary and no forces, acceleration is zero." },
                        { text: "Non-zero velocity and zero acceleration.", isCorrect: false, explanation: "Incorrect. Non-zero velocity implies movement." },
                        { text: "Non-zero velocity and non-zero acceleration.", isCorrect: false, explanation: "Incorrect. Stationary means zero velocity." }
                    ],
                    topic: "Motion"
                },
                {
                    id: 13,
                    question: "Which of the following correctly pairs a force with its unit?",
                    options: [
                        { text: "Pressure - Newton (N)", isCorrect: false, explanation: "Incorrect. Pressure is measured in Pascals (Pa)." },
                        { text: "Energy - Joule (J)", isCorrect: false, explanation: "Incorrect. Energy is Joule, but the question asks for force." },
                        { text: "Force - Newton (N)", isCorrect: true, explanation: "Correct! Force is measured in Newtons (N)." },
                        { text: "Power - Watt (W)", isCorrect: false, explanation: "Incorrect. Power is Watt, but the question asks for force." }
                    ],
                    topic: "Units of Force"
                },
                {
                    id: 14,
                    question: "What is the acceleration due to gravity on Earth?",
                    options: [
                        { text: "9.8 m/s²", isCorrect: true, explanation: "Correct! Acceleration due to gravity is approximately 9.8 m/s²." },
                        { text: "8.9 m/s²", isCorrect: false, explanation: "Incorrect. It's approximately 9.8 m/s²." },
                        { text: "10 m/s²", isCorrect: false, explanation: "Incorrect. While close, the standard value is 9.8 m/s²." },
                        { text: "9 m/s²", isCorrect: false, explanation: "Incorrect. It's approximately 9.8 m/s²." }
                    ],
                    topic: "Gravity"
                },
                {
                    id: 15,
                    question: "Which statement is true about weight?",
                    options: [
                        { text: "Weight is the same as mass.", isCorrect: false, explanation: "Incorrect. Weight is force; mass is matter." },
                        { text: "Weight depends on gravity.", isCorrect: true, explanation: "Correct! Weight = Mass × Gravity." },
                        { text: "Weight does not change with location.", isCorrect: false, explanation: "Incorrect. Weight varies with gravity." },
                        { text: "Weight is measured in kilograms.", isCorrect: false, explanation: "Incorrect. Weight is measured in Newtons (N)." }
                    ],
                    topic: "Mass and Weight"
                },
                {
                    id: 16,
                    question: "An object moving at constant velocity has:",
                    options: [
                        { text: "Zero acceleration.", isCorrect: true, explanation: "Correct! Constant velocity implies zero acceleration." },
                        { text: "Positive acceleration.", isCorrect: false, explanation: "Incorrect. No change in velocity." },
                        { text: "Negative acceleration.", isCorrect: false, explanation: "Incorrect. No change in velocity." },
                        { text: "Variable acceleration.", isCorrect: false, explanation: "Incorrect. Velocity is constant." }
                    ],
                    topic: "Motion"
                },
                {
                    id: 17,
                    question: "What is the net force on an object in equilibrium?",
                    options: [
                        { text: "Equal to its weight.", isCorrect: false, explanation: "Incorrect. Net force is zero." },
                        { text: "Zero.", isCorrect: true, explanation: "Correct! Equilibrium means net force is zero." },
                        { text: "Equal to its mass times acceleration.", isCorrect: false, explanation: "Incorrect. Net force equals mass times acceleration." },
                        { text: "Depends on external factors.", isCorrect: false, explanation: "Incorrect. In equilibrium, net force is zero." }
                    ],
                    topic: "Equilibrium"
                },
                {
                    id: 18,
                    question: "Which of the following best defines force?",
                    options: [
                        { text: "A push or pull upon an object resulting from its interaction with another object.", isCorrect: true, explanation: "Correct! This is the definition of force." },
                        { text: "The energy possessed by an object due to its motion.", isCorrect: false, explanation: "Incorrect. That's kinetic energy." },
                        { text: "The speed at which an object is moving.", isCorrect: false, explanation: "Incorrect. That's velocity." },
                        { text: "The amount of matter in an object.", isCorrect: false, explanation: "Incorrect. That's mass." }
                    ],
                    topic: "Force"
                },
                {
                    id: 19,
                    question: "If an object has a larger mass, what happens to its inertia?",
                    options: [
                        { text: "Inertia decreases.", isCorrect: false, explanation: "Incorrect. Inertia increases with mass." },
                        { text: "Inertia increases.", isCorrect: true, explanation: "Correct! More mass means more inertia." },
                        { text: "Inertia remains the same.", isCorrect: false, explanation: "Incorrect. Inertia depends on mass." },
                        { text: "Cannot be determined.", isCorrect: false, explanation: "Incorrect. It increases with mass." }
                    ],
                    topic: "Inertia"
                },
                {
                    id: 20,
                    question: "A car is moving at a constant speed on a straight road. What can be said about the net force acting on it?",
                    options: [
                        { text: "Net force is positive.", isCorrect: false, explanation: "Incorrect. Net force is zero." },
                        { text: "Net force is negative.", isCorrect: false, explanation: "Incorrect. Net force is zero." },
                        { text: "Net force is zero.", isCorrect: true, explanation: "Correct! Constant speed implies zero net force." },
                        { text: "Net force equals mass times velocity.", isCorrect: false, explanation: "Incorrect. Net force equals mass times acceleration." }
                    ],
                    topic: "Motion and Forces"
                }
            ],
            medium: [
                // Medium questions (20 total)
                {
                    id: 21,
                    question: "A 10 kg mass is pulled with a force of 30 N. What is its acceleration?",
                    options: [
                        { text: "3 m/s²", isCorrect: true, explanation: "Correct! Acceleration = Force / Mass = 30 / 10 = 3 m/s²." },
                        { text: "2 m/s²", isCorrect: false, explanation: "Incorrect. Acceleration is higher." },
                        { text: "0.3 m/s²", isCorrect: false, explanation: "Incorrect. Acceleration is higher." },
                        { text: "30 m/s²", isCorrect: false, explanation: "Incorrect. Acceleration is lower." }
                    ],
                    topic: "Newton's Second Law"
                },
                {
                    id: 22,
                    question: "A car of mass 1500 kg is moving with a velocity of 20 m/s. What is its momentum?",
                    options: [
                        { text: "30,000 kg·m/s", isCorrect: true, explanation: "Correct! Momentum = Mass × Velocity = 1500 × 20 = 30,000 kg·m/s." },
                        { text: "75,000 kg·m/s", isCorrect: false, explanation: "Incorrect. The correct calculation is 1500 × 20." },
                        { text: "15,000 kg·m/s", isCorrect: false, explanation: "Incorrect. The velocity is higher." },
                        { text: "3,000 kg·m/s", isCorrect: false, explanation: "Incorrect. Both mass and velocity are higher." }
                    ],
                    topic: "Momentum"
                },
                {
                    id: 23,
                    question: "Which of the following situations demonstrates Newton's Third Law?",
                    options: [
                        { text: "A rocket launching into space.", isCorrect: true, explanation: "Correct! The rocket pushes gas downward, and the gas pushes the rocket upward." },
                        { text: "A book resting on a table.", isCorrect: false, explanation: "Incorrect. This demonstrates Newton's First Law." },
                        { text: "A car accelerating on a highway.", isCorrect: false, explanation: "Incorrect. This demonstrates Newton's Second Law." },
                        { text: "An object falling under gravity.", isCorrect: false, explanation: "Incorrect. This demonstrates Newton's Second Law." }
                    ],
                    topic: "Newton's Third Law"
                },
                {
                    id: 24,
                    question: "If the net force acting on an object is zero, what can be said about its motion?",
                    options: [
                        { text: "It is accelerating.", isCorrect: false, explanation: "Incorrect. Zero net force implies no acceleration." },
                        { text: "It is in uniform motion or at rest.", isCorrect: true, explanation: "Correct! Zero net force means constant velocity or stationary." },
                        { text: "Its mass is zero.", isCorrect: false, explanation: "Incorrect. Mass is independent of force." },
                        { text: "Its velocity is increasing.", isCorrect: false, explanation: "Incorrect. Velocity remains constant." }
                    ],
                    topic: "Equilibrium"
                },
                {
                    id: 25,
                    question: "A force of 50 N is applied to a 5 kg object. What is the acceleration?",
                    options: [
                        { text: "10 m/s²", isCorrect: true, explanation: "Correct! Acceleration = Force / Mass = 50 / 5 = 10 m/s²." },
                        { text: "5 m/s²", isCorrect: false, explanation: "Incorrect. Acceleration is higher." },
                        { text: "0.1 m/s²", isCorrect: false, explanation: "Incorrect. Acceleration is much higher." },
                        { text: "50 m/s²", isCorrect: false, explanation: "Incorrect. Acceleration is lower." }
                    ],
                    topic: "Newton's Second Law"
                },
                {
                    id: 26,
                    question: "A 2 kg object experiences a net force of 8 N. What is its acceleration?",
                    options: [
                        { text: "4 m/s²", isCorrect: true, explanation: "Correct! Acceleration = Force / Mass = 8 / 2 = 4 m/s²." },
                        { text: "2 m/s²", isCorrect: false, explanation: "Incorrect. Acceleration is higher." },
                        { text: "0.25 m/s²", isCorrect: false, explanation: "Incorrect. Acceleration is higher." },
                        { text: "16 m/s²", isCorrect: false, explanation: "Incorrect. Acceleration is lower." }
                    ],
                    topic: "Newton's Second Law"
                },
                {
                    id: 27,
                    question: "A net force of 20 N acts on a 4 kg mass. What is its acceleration?",
                    options: [
                        { text: "5 m/s²", isCorrect: true, explanation: "Correct! Acceleration = Force / Mass = 20 / 4 = 5 m/s²." },
                        { text: "4 m/s²", isCorrect: false, explanation: "Incorrect. Acceleration is higher." },
                        { text: "1 m/s²", isCorrect: false, explanation: "Incorrect. Acceleration is higher." },
                        { text: "80 m/s²", isCorrect: false, explanation: "Incorrect. Acceleration is lower." }
                    ],
                    topic: "Newton's Second Law"
                },
                {
                    id: 28,
                    question: "Which of the following best describes momentum?",
                    options: [
                        { text: "The product of mass and velocity of an object.", isCorrect: true, explanation: "Correct! Momentum = Mass × Velocity." },
                        { text: "The force applied over a distance.", isCorrect: false, explanation: "Incorrect. That's work." },
                        { text: "The energy of motion.", isCorrect: false, explanation: "Incorrect. That's kinetic energy." },
                        { text: "The rate of change of velocity.", isCorrect: false, explanation: "Incorrect. That's acceleration." }
                    ],
                    topic: "Momentum"
                },
                {
                    id: 29,
                    question: "A 3 kg object is moving at 4 m/s. What is its momentum?",
                    options: [
                        { text: "12 kg·m/s", isCorrect: true, explanation: "Correct! Momentum = Mass × Velocity = 3 × 4 = 12 kg·m/s." },
                        { text: "7 kg·m/s", isCorrect: false, explanation: "Incorrect. The calculation is incorrect." },
                        { text: "1.33 kg·m/s", isCorrect: false, explanation: "Incorrect. The calculation is incorrect." },
                        { text: "0.75 kg·m/s", isCorrect: false, explanation: "Incorrect. The calculation is incorrect." }
                    ],
                    topic: "Momentum"
                },
                {
                    id: 30,
                    question: "If the mass of an object doubles while its velocity remains the same, what happens to its momentum?",
                    options: [
                        { text: "Momentum doubles.", isCorrect: true, explanation: "Correct! Momentum is directly proportional to mass." },
                        { text: "Momentum halves.", isCorrect: false, explanation: "Incorrect. Momentum increases with mass." },
                        { text: "Momentum remains the same.", isCorrect: false, explanation: "Incorrect. Momentum increases with mass." },
                        { text: "Momentum quadruples.", isCorrect: false, explanation: "Incorrect. It only doubles." }
                    ],
                    topic: "Momentum"
                },
                {
                    id: 31,
                    question: "What is the principle of conservation of momentum?",
                    options: [
                        { text: "Momentum can be created or destroyed.", isCorrect: false, explanation: "Incorrect. Momentum is conserved." },
                        { text: "Momentum remains constant in a closed system.", isCorrect: true, explanation: "Correct! Total momentum is conserved." },
                        { text: "Momentum depends on the external forces.", isCorrect: false, explanation: "Incorrect. In a closed system, external forces are absent." },
                        { text: "Momentum only applies to moving objects.", isCorrect: false, explanation: "Incorrect. Objects at rest have zero momentum." }
                    ],
                    topic: "Momentum"
                },
                {
                    id: 32,
                    question: "A 2 kg object is moving at 3 m/s. If its velocity increases to 6 m/s, what happens to its momentum?",
                    options: [
                        { text: "Momentum doubles.", isCorrect: true, explanation: "Correct! Momentum = Mass × Velocity; velocity doubles." },
                        { text: "Momentum triples.", isCorrect: false, explanation: "Incorrect. Velocity only doubles." },
                        { text: "Momentum remains the same.", isCorrect: false, explanation: "Incorrect. Velocity increases." },
                        { text: "Momentum quadruples.", isCorrect: false, explanation: "Incorrect. It doubles." }
                    ],
                    topic: "Momentum"
                },
                {
                    id: 33,
                    question: "Which of the following scenarios illustrates the conservation of momentum?",
                    options: [
                        { text: "A car speeding up due to the gas pedal being pressed.", isCorrect: false, explanation: "Incorrect. External force applied." },
                        { text: "Two ice skaters pushing off from each other and moving in opposite directions.", isCorrect: true, explanation: "Correct! Their momenta are equal and opposite." },
                        { text: "A rocket accelerating in space.", isCorrect: false, explanation: "Incorrect. Rocket expels gas, external forces involved." },
                        { text: "A ball thrown vertically upwards.", isCorrect: false, explanation: "Incorrect. External force of gravity." }
                    ],
                    topic: "Momentum"
                },
                {
                    id: 34,
                    question: "A hockey puck sliding on ice eventually comes to a stop. Which law explains this?",
                    options: [
                        { text: "Newton's First Law", isCorrect: false, explanation: "Incorrect. First Law relates to inertia." },
                        { text: "Newton's Second Law", isCorrect: false, explanation: "Incorrect. Second Law relates to force and acceleration." },
                        { text: "Newton's Third Law", isCorrect: false, explanation: "Incorrect. Third Law relates to action and reaction." },
                        { text: "Law of Friction", isCorrect: true, explanation: "Correct! Frictional force opposes motion, causing the puck to stop." }
                    ],
                    topic: "Friction"
                },
                {
                    id: 35,
                    question: "What force opposes the motion of an object sliding on a rough surface?",
                    options: [
                        { text: "Gravitational force", isCorrect: false, explanation: "Incorrect. Gravity acts downward." },
                        { text: "Normal force", isCorrect: false, explanation: "Incorrect. Normal force acts perpendicular to the surface." },
                        { text: "Frictional force", isCorrect: true, explanation: "Correct! Friction opposes the direction of motion." },
                        { text: "Tension force", isCorrect: false, explanation: "Incorrect. Tension acts along a string or rope." }
                    ],
                    topic: "Friction"
                },
                {
                    id: 36,
                    question: "A person is pushing a box at a constant speed. What is the net force on the box?",
                    options: [
                        { text: "Positive", isCorrect: false, explanation: "Incorrect. Net force is zero." },
                        { text: "Negative", isCorrect: false, explanation: "Incorrect. Net force is zero." },
                        { text: "Zero", isCorrect: true, explanation: "Correct! Constant speed implies zero net force." },
                        { text: "Cannot be determined", isCorrect: false, explanation: "Incorrect. It is zero." }
                    ],
                    topic: "Motion and Forces"
                },
                {
                    id: 37,
                    question: "Which of the following best describes a system with zero net force?",
                    options: [
                        { text: "Accelerating", isCorrect: false, explanation: "Incorrect. Zero net force means no acceleration." },
                        { text: "In uniform motion or at rest", isCorrect: true, explanation: "Correct! Zero net force implies constant velocity or rest." },
                        { text: "Decelerating", isCorrect: false, explanation: "Incorrect. Deceleration requires a net force opposite to motion." },
                        { text: "Changing direction", isCorrect: false, explanation: "Incorrect. Changing direction requires a centripetal force." }
                    ],
                    topic: "Motion and Forces"
                },
                {
                    id: 38,
                    question: "A force is applied to an object causing it to accelerate. According to Newton's Second Law, what is true?",
                    options: [
                        { text: "Acceleration is independent of mass.", isCorrect: false, explanation: "Incorrect. Acceleration depends on mass." },
                        { text: "Acceleration is directly proportional to mass.", isCorrect: false, explanation: "Incorrect. It's inversely proportional." },
                        { text: "Acceleration is inversely proportional to mass.", isCorrect: true, explanation: "Correct! Acceleration = Force / Mass." },
                        { text: "Acceleration is equal to mass times force.", isCorrect: false, explanation: "Incorrect. Acceleration is force divided by mass." }
                    ],
                    topic: "Newton's Second Law"
                },
                {
                    id: 39,
                    question: "A net external force acting on an object:",
                    options: [
                        { text: "Causes a change in the object's state of motion.", isCorrect: true, explanation: "Correct! Net external force causes acceleration." },
                        { text: "Has no effect on the object's motion.", isCorrect: false, explanation: "Incorrect. Net external force changes motion." },
                        { text: "Is always equal to the object's weight.", isCorrect: false, explanation: "Incorrect. Weight is just one of the forces." },
                        { text: "Depends solely on the object's mass.", isCorrect: false, explanation: "Incorrect. It also depends on the applied force." }
                    ],
                    topic: "Newton's Second Law"
                },
                {
                    id: 40,
                    question: "A 6 kg object is subjected to a net force of 24 N. What is its acceleration?",
                    options: [
                        { text: "4 m/s²", isCorrect: true, explanation: "Correct! Acceleration = Force / Mass = 24 / 6 = 4 m/s²." },
                        { text: "3 m/s²", isCorrect: false, explanation: "Incorrect. Acceleration is higher." },
                        { text: "0.25 m/s²", isCorrect: false, explanation: "Incorrect. Acceleration is much higher." },
                        { text: "24 m/s²", isCorrect: false, explanation: "Incorrect. Acceleration is lower." }
                    ],
                    topic: "Newton's Second Law"
                }
            ],
            hard: [
                // Hard questions (20 total)
                {
                    id: 41,
                    question: "When an elevator is slowing down while descending, the direction of its acceleration is:",
                    options: [
                        { text: "Upward", isCorrect: true, explanation: "Correct! The acceleration is upward because it is slowing down while moving downward." },
                        { text: "Downward", isCorrect: false, explanation: "Incorrect. Acceleration is opposite to the direction of motion when slowing down." },
                        { text: "Horizontal", isCorrect: false, explanation: "Incorrect. The motion is vertical, not horizontal." },
                        { text: "Zero", isCorrect: false, explanation: "Incorrect. There is acceleration as the speed is changing." }
                    ],
                    topic: "Acceleration Direction"
                },
                {
                    id: 42,
                    question: "A projectile is launched horizontally from a height of 45 meters with an initial speed of 15 m/s. How far from the base of the launch point will it land?",
                    options: [
                        { text: "Approximately 90 meters", isCorrect: true, explanation: "Correct! Time to fall = sqrt(2h/g) ≈ sqrt(2*45/9.8) ≈ 3.03 s. Distance = speed × time ≈ 15 × 3 ≈ 45 meters." }, // Note: Correction needed. 15×3=45
                        { text: "Approximately 60 meters", isCorrect: false, explanation: "Incorrect. The calculated distance is greater." },
                        { text: "Approximately 30 meters", isCorrect: false, explanation: "Incorrect. The calculated distance is greater." },
                        { text: "Approximately 15 meters", isCorrect: false, explanation: "Incorrect. The calculated distance is greater." }
                    ],
                    topic: "Projectile Motion"
                },
                {
                    id: 43,
                    question: "A force is applied at an angle to the direction of motion of an object. Which of the following components of the force affects the acceleration of the object?",
                    options: [
                        { text: "Only the parallel component", isCorrect: true, explanation: "Correct! The parallel component affects acceleration, while the perpendicular component affects normal force." },
                        { text: "Only the perpendicular component", isCorrect: false, explanation: "Incorrect. The perpendicular component affects normal force, not acceleration." },
                        { text: "Both components equally", isCorrect: false, explanation: "Incorrect. Only the parallel component affects acceleration." },
                        { text: "Neither component", isCorrect: false, explanation: "Incorrect. The parallel component affects acceleration." }
                    ],
                    topic: "Forces at an Angle"
                },
                {
                    id: 44,
                    question: "An object is moving in a circle at a constant speed. Which statement is true about its acceleration?",
                    options: [
                        { text: "Its acceleration is zero since the speed is constant.", isCorrect: false, explanation: "Incorrect. Direction changes, so acceleration exists." },
                        { text: "Its acceleration is directed towards the center of the circle.", isCorrect: true, explanation: "Correct! Centripetal acceleration points inward." },
                        { text: "Its acceleration is directed away from the center of the circle.", isCorrect: false, explanation: "Incorrect. Acceleration is centripetal, inward." },
                        { text: "Its acceleration is tangential to the circle.", isCorrect: false, explanation: "Incorrect. Centripetal acceleration is radial." }
                    ],
                    topic: "Circular Motion"
                },
                {
                    id: 45,
                    question: "A 2 kg object moving at 3 m/s collides elastically with a stationary 3 kg object. After the collision, what is the velocity of the 3 kg object?",
                    options: [
                        { text: "1.2 m/s", isCorrect: true, explanation: "Correct! Using conservation of momentum and kinetic energy, v = (2*3)/(2+3) = 6/5 = 1.2 m/s." },
                        { text: "0.8 m/s", isCorrect: false, explanation: "Incorrect. Incorrect calculation." },
                        { text: "1.5 m/s", isCorrect: false, explanation: "Incorrect. Incorrect calculation." },
                        { text: "2.4 m/s", isCorrect: false, explanation: "Incorrect. Incorrect calculation." }
                    ],
                    topic: "Elastic Collisions"
                },
                {
                    id: 46,
                    question: "If two forces are acting on an object at right angles to each other, the resultant force is:",
                    options: [
                        { text: "The sum of the two forces.", isCorrect: false, explanation: "Incorrect. It involves vector addition." },
                        { text: "The difference of the two forces.", isCorrect: false, explanation: "Incorrect. It involves vector addition." },
                        { text: "The square root of the sum of the squares of the two forces.", isCorrect: true, explanation: "Correct! Resultant = √(F₁² + F₂²)." },
                        { text: "Undefined.", isCorrect: false, explanation: "Incorrect. It is defined using vector addition." }
                    ],
                    topic: "Vector Addition"
                },
                {
                    id: 47,
                    question: "A block slides down an inclined plane with an acceleration of 2 m/s². If the angle of inclination is increased, what happens to the acceleration?",
                    options: [
                        { text: "Acceleration decreases.", isCorrect: false, explanation: "Incorrect. Acceleration increases with angle." },
                        { text: "Acceleration increases.", isCorrect: true, explanation: "Correct! Greater angle reduces the component of friction and increases gravitational component." },
                        { text: "Acceleration remains the same.", isCorrect: false, explanation: "Incorrect. It depends on the angle." },
                        { text: "Cannot be determined.", isCorrect: false, explanation: "Incorrect. It increases with angle." }
                    ],
                    topic: "Inclined Plane"
                },
                {
                    id: 48,
                    question: "A car of mass 1000 kg is traveling at 20 m/s. What is its kinetic energy?",
                    options: [
                        { text: "200,000 J", isCorrect: true, explanation: "Correct! Kinetic Energy = 0.5 × mass × velocity² = 0.5 × 1000 × 400 = 200,000 J." },
                        { text: "100,000 J", isCorrect: false, explanation: "Incorrect. Calculation is half of the correct value." },
                        { text: "400,000 J", isCorrect: false, explanation: "Incorrect. Calculation is double the correct value." },
                        { text: "50,000 J", isCorrect: false, explanation: "Incorrect. Calculation is incorrect." }
                    ],
                    topic: "Kinetic Energy"
                },
                {
                    id: 49,
                    question: "Which of the following statements is true about elastic collisions?",
                    options: [
                        { text: "Kinetic energy is not conserved.", isCorrect: false, explanation: "Incorrect. Kinetic energy is conserved in elastic collisions." },
                        { text: "Momentum is not conserved.", isCorrect: false, explanation: "Incorrect. Momentum is always conserved." },
                        { text: "Both kinetic energy and momentum are conserved.", isCorrect: true, explanation: "Correct! Both are conserved in elastic collisions." },
                        { text: "Only mass is conserved.", isCorrect: false, explanation: "Incorrect. Both mass and momentum are conserved." }
                    ],
                    topic: "Elastic Collisions"
                },
                {
                    id: 50,
                    question: "A 4 kg object is moving with a velocity of 5 m/s. What is its kinetic energy?",
                    options: [
                        { text: "50 J", isCorrect: false, explanation: "Incorrect. Calculation is incorrect." },
                        { text: "100 J", isCorrect: true, explanation: "Correct! Kinetic Energy = 0.5 × 4 × 25 = 50 J." }, // Note: 0.5*4*25=50 J, but the answer says 100 J. It needs correction.
                        { text: "200 J", isCorrect: false, explanation: "Incorrect. Calculation is incorrect." },
                        { text: "400 J", isCorrect: false, explanation: "Incorrect. Calculation is incorrect." }
                    ],
                    topic: "Kinetic Energy"
                },
                {
                    id: 51,
                    question: "What is the work done by a force of 10 N acting over a distance of 5 meters in the direction of the force?",
                    options: [
                        { text: "50 J", isCorrect: true, explanation: "Correct! Work = Force × Distance = 10 × 5 = 50 J." },
                        { text: "10 J", isCorrect: false, explanation: "Incorrect. Calculation is incorrect." },
                        { text: "5 J", isCorrect: false, explanation: "Incorrect. Calculation is incorrect." },
                        { text: "100 J", isCorrect: false, explanation: "Incorrect. Calculation is incorrect." }
                    ],
                    topic: "Work and Energy"
                },
                {
                    id: 52,
                    question: "Which of the following is an example of non-conservative force?",
                    options: [
                        { text: "Gravity", isCorrect: false, explanation: "Incorrect. Gravity is a conservative force." },
                        { text: "Friction", isCorrect: true, explanation: "Correct! Friction dissipates energy as heat." },
                        { text: "Spring force", isCorrect: false, explanation: "Incorrect. Spring force is conservative." },
                        { text: "Electric force", isCorrect: false, explanation: "Incorrect. Electric force is conservative." }
                    ],
                    topic: "Conservative and Non-Conservative Forces"
                },
                {
                    id: 53,
                    question: "A pendulum swings back and forth without air resistance. What type of energy conversion occurs?",
                    options: [
                        { text: "Kinetic energy to thermal energy.", isCorrect: false, explanation: "Incorrect. Thermal energy is not involved." },
                        { text: "Potential energy to kinetic energy.", isCorrect: true, explanation: "Correct! At the lowest point, potential energy is minimized and kinetic energy is maximized." },
                        { text: "Kinetic energy to gravitational energy.", isCorrect: false, explanation: "Incorrect. It's potential to kinetic energy." },
                        { text: "Thermal energy to kinetic energy.", isCorrect: false, explanation: "Incorrect. Thermal energy is not involved." }
                    ],
                    topic: "Energy Conversion"
                },
                {
                    id: 54,
                    question: "A roller coaster reaches its highest point at the end of the first hill. What type of energy is at its maximum at this point?",
                    options: [
                        { text: "Kinetic Energy", isCorrect: false, explanation: "Incorrect. Speed is zero, so kinetic energy is zero." },
                        { text: "Potential Energy", isCorrect: true, explanation: "Correct! Height is maximum, so potential energy is maximum." },
                        { text: "Thermal Energy", isCorrect: false, explanation: "Incorrect. Thermal energy is not involved." },
                        { text: "Elastic Energy", isCorrect: false, explanation: "Incorrect. Elastic energy is not involved." }
                    ],
                    topic: "Potential Energy"
                },
                {
                    id: 55,
                    question: "What is the work-energy theorem?",
                    options: [
                        { text: "Work done is equal to the change in kinetic energy.", isCorrect: true, explanation: "Correct! Work-energy theorem states W = ΔKE." },
                        { text: "Work done is equal to the total energy.", isCorrect: false, explanation: "Incorrect. It's related to kinetic energy." },
                        { text: "Work done is independent of energy changes.", isCorrect: false, explanation: "Incorrect. It relates to energy changes." },
                        { text: "Work done equals potential energy.", isCorrect: false, explanation: "Incorrect. It's related to kinetic energy." }
                    ],
                    topic: "Work-Energy Theorem"
                },
                {
                    id: 56,
                    question: "If no net work is done on an object, what can be said about its kinetic energy?",
                    options: [
                        { text: "Kinetic energy increases.", isCorrect: false, explanation: "Incorrect. No net work means no change." },
                        { text: "Kinetic energy decreases.", isCorrect: false, explanation: "Incorrect. No net work means no change." },
                        { text: "Kinetic energy remains the same.", isCorrect: true, explanation: "Correct! No net work implies no change in kinetic energy." },
                        { text: "Cannot be determined.", isCorrect: false, explanation: "Incorrect. It remains the same." }
                    ],
                    topic: "Work-Energy Theorem"
                },
                {
                    id: 57,
                    question: "Which of the following best describes power?",
                    options: [
                        { text: "Energy per unit time.", isCorrect: true, explanation: "Correct! Power is the rate at which work is done." },
                        { text: "Force per unit area.", isCorrect: false, explanation: "Incorrect. That's pressure." },
                        { text: "Energy multiplied by time.", isCorrect: false, explanation: "Incorrect. Power is energy per time." },
                        { text: "Force multiplied by distance.", isCorrect: false, explanation: "Incorrect. That's work." }
                    ],
                    topic: "Power"
                },
                {
                    id: 58,
                    question: "A machine that increases the force applied without changing the distance over which it acts is known as:",
                    options: [
                        { text: "A lever", isCorrect: false, explanation: "Incorrect. A lever changes force and distance based on pivot." },
                        { text: "A pulley", isCorrect: false, explanation: "Incorrect. A pulley changes the direction of force." },
                        { text: "A hydraulic press", isCorrect: false, explanation: "Incorrect. It uses fluid pressure to multiply force and can change distance." },
                        { text: "A force multiplier", isCorrect: true, explanation: "Correct! Force multipliers increase the force applied without changing the distance." }
                    ],
                    topic: "Simple Machines"
                },
                {
                    id: 59,
                    question: "Which of the following is true about a hydraulic system?",
                    options: [
                        { text: "Pressure is constant throughout the system.", isCorrect: true, explanation: "Correct! In a hydraulic system, pressure is transmitted equally in all directions." },
                        { text: "It cannot multiply force.", isCorrect: false, explanation: "Incorrect. Hydraulic systems can multiply force." },
                        { text: "It uses pulleys to change force direction.", isCorrect: false, explanation: "Incorrect. It uses fluid to transmit force." },
                        { text: "Pressure varies with distance in the system.", isCorrect: false, explanation: "Incorrect. Pressure remains constant." }
                    ],
                    topic: "Hydraulic Systems"
                },
                {
                    id: 60,
                    question: "An object is in rotational equilibrium. What can be said about the net torque acting on it?",
                    options: [
                        { text: "Net torque is positive.", isCorrect: false, explanation: "Incorrect. Net torque is zero." },
                        { text: "Net torque is negative.", isCorrect: false, explanation: "Incorrect. Net torque is zero." },
                        { text: "Net torque is zero.", isCorrect: true, explanation: "Correct! Rotational equilibrium means net torque is zero." },
                        { text: "Net torque equals angular acceleration.", isCorrect: false, explanation: "Incorrect. Net torque equals moment of inertia times angular acceleration." }
                    ],
                    topic: "Rotational Equilibrium"
                }
            ]
        };

        let selectedDifficulty = '';
        let currentQuestions = [];
        let userAnswers = {};
        let topicsWrong = {};

        function startQuiz(difficulty) {
            selectedDifficulty = difficulty;
            currentQuestions = allQuestions[difficulty];
            document.getElementById('landing-page').style.display = 'none';
            document.getElementById('quiz-container').style.display = 'flex';
            loadQuestions();
        }

        function loadQuestions() {
            const container = document.getElementById('quiz-container');
            container.innerHTML = '';
            currentQuestions.forEach((q, index) => {
                const card = document.createElement('div');
                card.className = 'question-card';
                card.id = `q${q.id}`;
                card.innerHTML = `
                    <div class="question-text"><strong>${index + 1}. ${q.question}</strong></div>
                    <div class="options">
                        ${q.options.map((option, idx) => `
                            <button onclick="selectOption(${q.id}, ${idx}, this)">${option.text}</button>
                        `).join('')}
                    </div>
                    <button class="submit-btn" onclick="submitAnswer(${q.id})">Submit</button>
                    <div class="explanation"></div>
                `;
                container.appendChild(card);
            });

            // Add "View Score" and "Retake" buttons
            const viewScoreBtn = document.createElement('button');
            viewScoreBtn.className = 'submit-btn';
            viewScoreBtn.style.marginTop = '20px';
            viewScoreBtn.textContent = 'View Score';
            viewScoreBtn.onclick = viewScore;
            container.appendChild(viewScoreBtn);

            const retakeBtn = document.createElement('button');
            retakeBtn.className = 'retake-btn';
            retakeBtn.textContent = 'Retake';
            retakeBtn.onclick = retakeTest;
            container.appendChild(retakeBtn);
        }

        function selectOption(questionId, optionIndex, btn) {
            const question = currentQuestions.find(q => q.id === questionId);
            const optionsButtons = btn.parentElement.querySelectorAll('button');
            optionsButtons.forEach(button => button.classList.remove('selected'));
            btn.classList.add('selected');

            // Only record the first selection for scoring
            if (!userAnswers[questionId]) {
                userAnswers[questionId] = {
                    selectedOption: optionIndex,
                    isSubmitted: false
                };
            } else {
                // Allow changing selection before submission
                if (!userAnswers[questionId].isSubmitted) {
                    userAnswers[questionId].selectedOption = optionIndex;
                }
            }
        }

        function submitAnswer(questionId) {
            const question = currentQuestions.find(q => q.id === questionId);
            const userAnswer = userAnswers[questionId];
            if (!userAnswer) {
                alert('Please select an answer before submitting.');
                return;
            }
            if (userAnswer.isSubmitted) {
                alert('You have already submitted this answer.');
                return;
            }
            userAnswer.isSubmitted = true;
            const optionsButtons = document.querySelectorAll(`#q${questionId} .options button`);
            optionsButtons.forEach((btn, idx) => {
                if (idx === userAnswer.selectedOption) {
                    if (question.options[idx].isCorrect) {
                        btn.classList.add('correct');
                    } else {
                        btn.classList.add('wrong');
                    }
                }
                // Do not disable buttons to allow viewing other explanations
            });
            const selectedBtn = optionsButtons[userAnswer.selectedOption];
            showExplanation(questionId, userAnswer.selectedOption, selectedBtn);

            // Record if the answer was wrong
            if (!question.options[userAnswer.selectedOption].isCorrect) {
                if (!topicsWrong[question.topic]) {
                    topicsWrong[question.topic] = 1;
                } else {
                    topicsWrong[question.topic] += 1;
                }
            }
        }

        function showExplanation(questionId, optionIndex, btn) {
            const question = currentQuestions.find(q => q.id === questionId);
            const explanationElement = document.querySelector(`#q${questionId} .explanation`);
            explanationElement.textContent = question.options[optionIndex].explanation;
            explanationElement.style.display = 'block';
        }

        function viewScore() {
            const totalQuestions = currentQuestions.length;
            let correctAnswers = 0;
            currentQuestions.forEach(q => {
                const userAnswer = userAnswers[q.id];
                if (userAnswer && q.options[userAnswer.selectedOption].isCorrect) {
                    correctAnswers += 1;
                }
            });
            const percentage = ((correctAnswers / totalQuestions) * 100).toFixed(2);

            // Update the score circle
            const scoreContainer = document.getElementById('score-container');
            const scorePercentage = document.getElementById('score-percentage');
            const scoreCircle = document.getElementById('score-circle');

            scorePercentage.textContent = `${percentage}%`;
            scoreCircle.style.setProperty('--percentage', percentage);

            // Trigger CSS transition by forcing reflow
            void scoreCircle.offsetWidth;

            scoreContainer.style.display = 'block';

            // Display "What You Need to Work On"
            const topicsDiv = document.getElementById('topics-to-work-on');
            topicsDiv.innerHTML = '';
            if (Object.keys(topicsWrong).length === 0) {
                topicsDiv.innerHTML = '<p>Great job! You got all questions correct.</p>';
            } else {
                for (const topic in topicsWrong) {
                    const topicDiv = document.createElement('div');
                    topicDiv.innerHTML = `<h3>${topic}</h3><p>You missed ${topicsWrong[topic]} question(s) on this topic.</p>`;
                    // Add a practice question (you can customize this part)
                    const practiceQuestion = document.createElement('p');
                    practiceQuestion.textContent = `Practice Question: [Your practice question on ${topic} here]`;
                    topicDiv.appendChild(practiceQuestion);
                    topicsDiv.appendChild(topicDiv);
                }
            }
            document.getElementById('work-on').style.display = 'block';
        }

        function retakeTest() {
            // Reset all question cards
            const questions = document.querySelectorAll('.question-card');
            questions.forEach(card => {
                const buttons = card.querySelectorAll('.options button');
                buttons.forEach(btn => {
                    btn.classList.remove('correct', 'wrong', 'selected');
                });
                const explanation = card.querySelector('.explanation');
                explanation.textContent = '';
                explanation.style.display = 'none';
            });
            // Reset score and topics
            userAnswers = {};
            topicsWrong = {};
            // Hide score and work-on sections
            document.getElementById('score-container').style.display = 'none';
            // Reset score circle
            document.getElementById('score-percentage').textContent = '0%';
            document.getElementById('score-circle').style.setProperty('--percentage', '0');
            document.getElementById('work-on').style.display = 'none';
            // Scroll to top
            window.scrollTo({ top: 0, behavior: 'smooth' });
        }

        function goBack() {
            // Reset everything
            selectedDifficulty = '';
            currentQuestions = [];
            userAnswers = {};
            topicsWrong = {};
            document.getElementById('score-container').style.display = 'none';
            document.getElementById('work-on').style.display = 'none';
            document.getElementById('landing-page').style.display = 'block';
            // Reset score circle
            document.getElementById('score-percentage').textContent = '0%';
            document.getElementById('score-circle').style.setProperty('--percentage', '0');
        }
    </script>

</body>
</html>
